# 测试理论

## 软件测试方法

### 黑盒测试

只关注软件的输入和输出，不考虑内部实现，主要是通过对软件功能进行测试来检查软件是否符合需求。

#### 黑盒测试方法

##### 等价类划分

将输入数据划分为等价类，每个等价类代表了具有相同特性和预期结果的一组输入。
然后从每个等价类中选择代表性的测试用例进行测试，以确保系统对每个等价类中的输入都能正确处理。

举例

    一个计算器实现加法功能。
    可以将输入数据划分为三个等价类：有效的数字、无效的数字、边界值。
    然后，我们可以从每个等价类中选择代表性的测试用例进行测试，以确保系统对每个等价类中的输入都能正确处理。

##### 边界值分析

测试输入数据的边界情况，包括最小值、最大值、边界值和特殊值。这是因为很多错误通常发生在边界条件下，而不是一般情况下。

##### 决策表测试

使用决策表来描述系统的各种输入条件和对应的操作。通过选择不同的条件组合，可以生成测试用例来测试系统在不同条件下的行为。

举例

    一个购物车功能。
    输入条件是：购物车为空、购物车不为空、使用优惠券、使用积分、使用余额支付、余额不足
    对应的操作：结算、支付、优惠券、积分、余额
    每个条件和对应操作都能组成一个条件组合，然后生成决测表
    条件 	        结算 	支付 	优惠券 	积分 	余额
    购物车为空 	    N/A 	N/A 	N/A 	N/A 	N/A
    购物车不为空 	√ 	    √ 	    √ 	    √       √
    使用优惠券 	    N/A 	N/A 	√ 	    N/A 	N/A
    使用积分 	    N/A 	N/A 	N/A 	√ 	    N/A
    使用余额支付 	N/A 	√ 	    N/A 	N/A 	√
    余额不足 	    N/A 	N/A 	N/A 	N/A 	√
    

#####正交试验

使用正交设计方法，选择一组具有最小重复度和最大覆盖范围的测试用例。通过这种方法，可以在有限的测试资源下，尽可能地覆盖系统的各个方面。

举例

    一款风扇有5个调节因素。
    风扇速度：可选择低、中、高三档速度。
    风扇振幅：可选择小、中、大三档振幅。
    定时器：可选择关闭、一小时、二小时、三小时四个定时器选项。
    摇头：可选择开启、关闭两种。
    风向：可选择正常或倒吹两种。
    然后根据因素和水平数量，生成正交表
    
    测试方案 	风扇速度 	风扇振幅 	定时器 	摇头 	风向
    1 	        低速 	    小振幅 	    关闭 	关闭 	正常
    2 	        中速 	    大振幅 	    1小时 	开启 	倒吹
    3 	        高速 	    中振幅 	    2小时 	关闭 	正常
    4 	        中速 	    大振幅 	    3小时 	开启 	倒吹

##### 错误推测

在已知的错误和缺陷的基础上，推测可能存在的其他类似错误，并生成相应的测试用例来验证系统的容错性和稳定性。

##### 随机测试

使用随机生成的输入数据进行测试，以模拟真实世界中各种不确定的情况。这种方法可以帮助发现系统在意料之外的情况下的行为。

### 白盒测试

主要是通过对软件内部代码的测试来检查软件是否符合设计要求。白盒测试需要了解软件的内部实现，能够深入测试软件的逻辑和数据结构。

#### 白盒测试方法

语句覆盖： 这种方法确保每个代码语句至少被执行一次。测试人员通过设计测试用例，使得每个代码语句都能够被覆盖到。

分支覆盖： 分支覆盖测试旨在确保每个可能的分支路径至少被执行一次。这包括if语句、switch语句等，以确保每个条件的真假都被覆盖到。

路径覆盖： 路径覆盖是一种更为细致的测试方法，它要求测试用例覆盖每个可能的执行路径，包括所有的循环和条件语句。
这是一种高度详尽的测试方法，可以有效地发现潜在的编程错误。

条件覆盖： 条件覆盖测试确保每个布尔表达式中的各个条件都被覆盖到，包括真值和假值。

路径跟踪： 路径跟踪测试是一种动态分析方法，通过记录程序执行过程中的各个执行路径，以便发现潜在的逻辑错误和异常情况。

数据流分析： 这种方法主要用于检测程序中的数据流问题，包括未初始化变量、变量覆盖等情况。

### 灰盒测试

综合了黑盒测试和白盒测试的优点，既关注软件的输入和输出，又考虑软件的内部实现。

### 手动测试

人工操作软件，按照测试计划逐步执行测试用例，记录测试结果，是最基础的测试方法。

### 自动化测试

使用自动化测试工具，编写测试脚本来执行测试，可以提高效率和准确性。

#### 适合自动化的标准

重复性高的测试场景：例如，回归测试、性能测试等是非常适合自动化的测试类型。

稳定的功能和界面：如果软件处于频繁开发和迭代阶段，可能导致自动化脚本频繁失效，不利于维护和管理。

可预测的结果：例如，输入一组特定的数据，预期得到相应的输出结果。这样可以通过自动化脚本进行验证。

大规模数据的处理：如果手动测试可能效率较低且容易出错。而自动化测试可以通过编写脚本来处理和验证大规模数据，提高测试效率和准确性。

时间和资源的节约：虽然自动化测试的开发和维护需要一定的投入，但长期来看，可以大大减少测试时间和人力成本。

#### 不适合自动化的情况

短期项目和频繁变更的项目

用户体验测试：自动化测试在这方面往往无法完全代替人工测试的体验和感知

非功能性测试：比如安全测试，用脚本无法覆盖所有脚本，必须结合手工测试。

跨平台兼容性测试：需要考虑到各种不同的环境因素，自动化测试可能无法涵盖所有可能的组合和情况。

探索性测试：测试人员会根据自己的经验和直觉，结合应用程序的特点，动态地进行测试，这种难通过自动化脚本来完全覆盖和模拟这种测试过程。

#### UI自动化测试的优缺点

优点

    提高测试效率：UI自动化测试可以自动执行测试用例，大大提高了测试效率，尤其是在需要频繁执行的回归测试场景下。

    减少人为错误：自动化测试可以减少人为错误的风险，因为测试用例是由脚本编写并自动执行，不会受到人为因素的影响。

    增强测试覆盖率：UI自动化测试可以覆盖更广泛的功能和场景，确保软件在各种情况下的稳定性和可靠性。

    持续集成支持：UI自动化测试可以与持续集成工具集成，实现自动化构建和测试，促进快速迭代和交付。

    节省时间和成本：尽管开发和维护自动化测试脚本需要一定的投入，但长期来看，可以节省大量的测试时间和成本。

缺点

    维护成本高： 随着应用程序的更新和变化，UI自动化测试脚本也需要不断修改和更新，维护成本较高。

    稳定性挑战： UI自动化测试往往受到应用程序界面的变化、网络延迟、操作系统差异等因素的影响，稳定性可能存在挑战。

    无法完全取代手动测试： 某些测试场景，如用户体验、探索性测试等，仍然需要人工测试来进行评估，无法完全依赖UI自动化测试。

    性能影响： UI自动化测试可能会对应用程序的性能产生一定影响，特别是在大规模测试时可能导致性能下降。

    学习曲线陡峭： 编写和维护UI自动化测试脚本需要一定的编程和测试技能，对团队成员有一定的学习曲线要求。

#### 项目开展自动化步骤

    评估项目和需求： 了解项目的规模、复杂性和测试需求。确定哪些测试场景适合自动化，优先级和可行性。

    选择适当的自动化工具： 根据项目需求和技术栈，选择适合的自动化测试工具和框架。常用的工具包括Selenium、Appium、JUnit、TestNG等。

    制定自动化测试策略： 定义自动化测试的目标、范围和计划。确定测试环境和配置，制定自动化测试的规范和流程。

    编写测试用例： 根据需求和设计文档，编写自动化测试用例。确保测试用例具有可重复性、可靠性和良好的覆盖率。

    搭建测试环境： 配置自动化测试所需的测试环境，包括安装相关的测试工具、设置测试数据和准备测试设备。

    开发自动化脚本： 使用选择的自动化工具和框架，编写自动化测试脚本。脚本应包含测试用例执行的步骤、断言和期望结果。

    执行自动化测试： 运行自动化测试脚本，执行测试用例并生成测试结果。监控和记录执行过程中的错误和异常。

    分析和报告结果： 分析自动化测试结果，识别和报告缺陷和问题。与团队成员共享测试报告和结果，确保及时处理和修复问题。

    维护和更新脚本： 随着项目的迭代和变化，维护自动化测试脚本的准确性和稳定性。及时修复脚本中的错误和适应新的功能。

    持续改进： 根据自动化测试的经验和反馈，不断改进测试策略、脚本编写和执行过程。优化自动化测试的效率和质量。

#### 自动化测试框架

自动化测试框架是一组预定义的规则、标准和指南，用于编写和执行自动化测试脚本。

一个好的自动化测试框架应该具备灵活性、模块化、可扩展性、报告和日志、数据驱动、并行执行、易于使用和版本控制等元素。

### 单元测试

对软件中的每个单元（如函数或模块）进行测试。

### 集成测试

对软件中的多个单元进行集成测试，测试它们之间的交互效果。

### 系统测试

系统测试是在真实环境中对软件进行全面测试，包括功能、性能、安全性、可靠性等方面的验证，以确保系统能够按照设计和规格要求正常工作。

### 验收测试

验收测试是在软件交付给客户之前进行的最后一轮测试。

验收测试的目标是确认软件是否满足客户的需求和预期，并且能够在客户的环境中正常工作。验收测试可以由客户或客户代表执行，以确保软件达到可接受的质量水平。

### 探索测试

在探索性测试中，测试人员会根据自己的经验和直觉，结合应用程序的特点，动态地进行测试设计、执行和评估。

### 回归测试

回归测试是一种针对软件系统修改后进行的测试方法，主要用于验证修改是否影响了原有功能和模块，并确保系统整体的稳定性和一致性。

### 冒烟测试

冒烟测试是一种快速的、基本的功能测试，用于验证系统是否可以正常启动和运行。冒烟测试通常是在每次软件构建后进行的，以确保基本的功能没有受到影响。

### 性能测试

测试软件在不同工作负载下的响应速度、承载能力和资源利用率等方面的性能指标。

>> 吞吐量是指系统在单位时间内处理的请求数量或事务数量
    
>>

#### 进行性能测试的目的

    验证系统可靠性：通过性能测试可以验证系统在不同负载下的稳定性和可靠性。确保系统在用户访问量增加或突发流量情况下依然能够正常运行。

    发现性能瓶颈：通过性能测试可以识别系统中的性能瓶颈和瓶颈原因，帮助开发团队优化系统架构、代码和配置，提高系统的性能和可伸缩性。

    评估系统容量：通过性能测试可以评估系统的容量和资源利用率，确定系统可以支持的最大用户数和负载水平，为系统扩展和升级提供依据。

    优化用户体验：通过性能测试可以评估系统的响应时间和页面加载速度，优化用户体验，提高用户满意度和留存率。

    避免系统故障：通过性能测试可以发现潜在的系统故障和性能问题，提前解决并避免系统崩溃或性能下降对业务造成的影响。
    
#### 常见类型

    负载测试： 负载测试旨在评估系统在预期负载下的性能表现，包括响应时间、吞吐量和资源利用率等。通过逐渐增加并模拟用户数量或交易量，测试系统在不同负载下的性能表现。

    压力测试： 压力测试旨在评估系统在超出正常负载范围的极限条件下的性能表现。通过持续增加负载直到系统崩溃或达到性能极限，以评估系统的稳定性和容错能力。

    并发测试： 并发测试用于评估系统在同一时间处理多少并发用户或请求时的性能表现。通过模拟大量并发用户并观察系统的响应时间和资源利用率来进行测试。

    容量测试： 容量测试旨在评估系统在正常和峰值条件下的容量和资源利用率，以确定系统可以支持的最大用户数或交易量。

    性能基准测试： 性能基准测试用于建立系统当前性能水平的基准，以便将来的性能测试结果进行对比分析，发现性能变化和趋势。

    可靠性测试： 可靠性测试用于评估系统在连续负载下的稳定性和可靠性，以确定系统是否能够长时间稳定运行而不出现故障。

    头部性能测试： 头部性能测试用于评估系统在短时间内突然增加的负载下的性能表现，以验证系统是否能够应对意外的流量激增。

#### 用户面临的性能问题和性能瓶颈

    长时间的加载或响应时间： 用户在访问网页、打开应用程序或执行操作时，长时间的加载或响应时间会给他们带来不便，降低他们的工作效率和体验。

    页面或功能的偶发性崩溃： 在使用软件或系统的过程中，用户可能会遇到页面或功能的偶发性崩溃，导致数据丢失或操作中断，影响用户的工作流程。

    性能下降随着用户数量增加： 当用户数量增加时，系统的性能可能会下降，导致响应时间变长或系统无法同时满足所有用户的需求，影响用户体验。

    不稳定的系统表现： 用户可能会面对系统在高负载下不稳定的表现，例如频繁的超时、连接断开或错误信息，这会影响他们的工作效率和信任度。

    限制了多任务处理能力： 如果系统性能有限，用户可能无法同时处理多个任务或同时访问多个资源，这样会限制他们的工作效率和灵活性。

    资源利用率高： 在系统运行时，高资源利用率可能导致系统性能下降，例如内存占用率高导致系统缓慢或崩溃，影响用户体验。

    不适应突发流量： 当系统面对突发的高流量时，可能会出现性能问题，例如服务器超载导致服务不可用，这会影响用户的访问体验。

#### 常见性能计数

    CPU 使用率（CPU Utilization）： 用于监测系统中 CPU 的利用率，显示系统在某一时间段内 CPU 的工作负载情况。

    内存使用量（Memory Usage）： 用于监测系统中内存的使用量，显示系统在某一时间段内内存的占用情况。

    磁盘 I/O 活动（Disk I/O Activity）： 用于监测系统中磁盘的读写操作情况，包括读取速度、写入速度和磁盘队列长度等。

    网络流量（Network Traffic）： 用于监测系统中网络的传输流量情况，包括网络带宽利用率、发送和接收数据包数量等。

    响应时间（Response Time）： 用于监测系统对用户请求的响应时间，显示系统处理请求所需的时间。

    并发用户数（Concurrent Users）： 用于监测系统同时处理的并发用户数量，显示系统在不同负载下的承载能力。

    线程数（Thread Count）： 用于监测系统中活跃线程的数量，显示系统中线程的创建和销毁情况。

    连接数（Connection Count）： 用于监测系统中的连接数，包括数据库连接、网络连接等，显示系统在某一时间段内的连接数情况。

    错误率（Error Rate）： 用于监测系统在处理请求过程中出现的错误率，包括请求失败率、超时率等。

#### 性能测试进入和结束的标准

进入性能测试阶段的标准：

    定义测试目标： 确定性能测试的具体目标和范围，包括要测试的系统功能、性能指标和预期的性能要求。

    制定测试计划： 编制详细的测试计划，包括测试范围、测试环境、测试资源、测试工具、测试方案等内容。

    准备测试环境： 搭建符合测试需求的测试环境，包括硬件设备、网络配置、数据库设置等。

    设计测试用例： 根据测试目标和性能指标，设计相应的性能测试用例，包括场景设计、负载模型、并发用户数量等。

    配置性能测试工具： 配置选定的性能测试工具，录制或编写测试脚本，准备开始执行性能测试。

结束性能测试阶段的标准：

    达到性能指标： 系统在不同负载下需满足一定的性能指标，如响应时间、吞吐量、并发用户数等。如果系统能够在预期负载下稳定运行并满足性能指标，则可以考虑结束测试。

    发现性能问题： 在测试过程中发现了性能问题或瓶颈，需要对这些问题进行分析和优化，并重新执行测试以确认问题是否得到解决。

    完成测试计划： 执行完所有设计的测试用例和场景，收集足够的性能数据以支持对系统性能的评估和分析。

    撰写测试报告： 撰写性能测试报告，总结测试过程、结果和分析，提供测试数据、问题描述、优化建议等内容。

    经评审确认： 将测试报告提交给相关利益相关方进行评审，确保测试结果的准确性和可信度。

#### 耐力测试

在耐力测试中，系统会持续承受正常负载或逐渐增加的负载，以验证系统在长时间运行后是否存在内存泄漏、资源耗尽或性能下降等问题。

#### 尖峰测试

在尖峰测试中，系统会突然面临大量并发请求或负载的冲击，以验证系统在负载剧增时能否正常处理请求，避免性能下降或系统崩溃。

### 安全测试

主要是测试软件的安全性，包括测试软件的漏洞和弱点，以及测试软件的加密和认证等安全功能。

### Alpha测试

Alpha测试主要关注软件内部功能和稳定性的测试，由内部团队或专业测试团队进行。

### Beta测试

Beta测试则侧重于真实用户的体验和反馈，由最终用户参与测试。

## 测试用例

### 内容

用例编号、所属模块、标题、优先级、测试环境、前提条件、输入数据、操作步骤、预期结果、测试时间、测试版本、测试人员、实际结果、测试结果、备注。

### 用途

防止遗漏、版本重复测试、监督过程、评估结果、提高效率、缩短周期。

## 持续集成/持续交付

持续集成/持续交付（CI/CD）是一种软件开发实践，旨在通过自动化软件构建、测试和部署过程来提高开发团队的效率和软件质量。

持续集成指的是将开发人员对代码的修改频繁地整合到共享存储库中，并进行自动化构建和测试，以确保代码的稳定性。

持续交付则是在持续集成的基础上，自动化部署和发布代码到生产环境，以便快速、可靠地交付新功能和更新。

## 软件测试的目的

发现问题： 通过测试，可以发现软件中的错误、缺陷和逻辑问题，包括功能错误、性能问题、安全漏洞等，及早发现并解决这些问题。

提高质量： 测试有助于验证软件是否符合需求规格和设计要求，以确保软件的功能完整、正确性和一致性，从而提高软件的质量。

降低风险： 通过测试，可以减少软件发布后出现问题的风险，避免因软件故障而导致的成本和时间损失，提高软件的稳定性和可靠性。

满足用户需求： 测试可以验证软件是否按照用户需求和预期的方式运行，以提高用户满意度和用户体验。

节约成本： 在软件开发早期发现和修复问题比在生产阶段后期修复要廉价得多。通过测试，可以降低维护成本、提高开发效率，并节约开发周期和成本。

持续改进： 测试过程中收集的反馈信息有助于不断改进软件质量和性能，促进团队学习和持续改进。

## 软件测试流程

需求分析阶段： 在这个阶段，测试团队与业务分析师和开发团队合作，理解软件的需求规格和功能设计，确定测试范围和测试目标。

测试计划阶段： 测试团队制定测试计划，包括测试资源、测试策略、测试方法、测试进度、测试环境等方面的规划，确保测试工作有条不紊地进行。

测试设计阶段： 根据需求规格和设计文档，测试团队设计测试用例，包括功能测试用例、性能测试用例、安全测试用例等，确保覆盖软件的各项功能和需求。

测试环境搭建： 搭建适合的测试环境，包括硬件设备、软件工具、测试数据等，以支持测试工作的进行。

测试执行阶段： 执行测试用例，根据测试计划和测试设计进行功能测试、性能测试、安全测试等，发现并记录软件的缺陷和问题。

缺陷管理： 将测试过程中发现的缺陷记录在缺陷跟踪系统中，并跟踪缺陷的修复和验证过程，确保问题得到及时解决。

测试报告与评估： 生成测试报告，总结测试结果、问题统计、测试覆盖率等信息，并评估软件是否符合发布标准和质量要求。

验收测试： 在软件交付之前进行最终的验收测试，确认软件是否满足用户需求和质量标准，为软件发布做准备。

发布与反馈： 在软件发布后，收集用户反馈和问题报告，进行持续改进和优化，促进软件的持续发展。

## 缺陷周期

提出阶段： 缺陷最初由测试人员、开发人员或用户等发现并记录在缺陷跟踪系统中。

确认阶段： 开发团队接收到缺陷报告后，会对缺陷进行确认，即验证缺陷是否确实存在，并尝试复现缺陷。

分配阶段： 确认后的有效缺陷将被分配给相应的开发人员或团队进行修复。

修复阶段： 开发人员根据缺陷描述和复现步骤进行定位和修复缺陷。修复后需要进行内部测试验证，确保缺陷已经被彻底解决。

验证阶段： 测试团队对修复后的缺陷进行再次验证，确认缺陷是否已经被成功修复。

关闭阶段： 当缺陷修复完成并通过验证后，缺陷状态变更为“已关闭”，并通知报告人。此时缺陷生命周期结束，缺陷记录被归档，但仍然可以进行追踪和查询。

## 具备素质

技术能力： 具备扎实的软件开发和测试技术知识，包括编程语言、测试工具的使用、测试方法和流程等方面的专业知识。

问题分析能力： 能够深入理解需求和设计，有较强的问题分析和定位能力，能快速准确地找出软件中的问题和缺陷。

沟通能力： 能够与开发团队、产品团队和其他相关人员进行有效沟通，及时反馈测试结果和问题，协助问题解决并推动项目进展。

创新能力： 具备创新思维，能够提出新的测试方法、策略和工具，不断完善测试流程和提升测试效率。

耐心和细致： 对测试工作持续投入，细心耐心地进行测试用例设计、执行和结果分析，确保每一个细节都得到充分关注。

学习能力： 需要保持对新技术、新方法的学习和掌握，以适应不断变化的软件开发环境和需求。

用户意识： 关注用户体验，能够站在用户角度思考，为软件质量和用户满意度负责。

团队合作： 良好的团队合作精神，能够融入团队，协助解决问题，共同推动项目目标的实现。

## 场景

### 文件上传

    界面测试：
        测试用例1：验证文件上传按钮是否可见、位置是否合理。
        测试用例2：验证文件上传页面的UI设计是否符合规范，包括按钮、文本提示等。

    功能测试：
        测试用例3：验证上传各种类型文件（图片、文档、视频等）是否成功。
        测试用例4：验证上传超大文件时是否有合理的提示和处理机制。
        测试用例5：验证上传相同文件名的文件时是否有合理的覆盖或重命名机制。

    安全性测试：
        测试用例6：尝试上传包含恶意代码的文件，验证系统是否能够有效过滤和阻止。
        测试用例7：尝试上传非法文件类型，验证系统是否能够进行合理的拦截。

    兼容性测试：
        测试用例8：在不同操作系统（Windows、macOS、Linux）上测试文件上传功能的兼容性。
        测试用例9：在不同浏览器（Chrome、Firefox、Safari、Edge等）上测试文件上传功能的兼容性。

    性能测试：
        测试用例10：验证在不同网络环境下上传文件的速度和稳定性。
        测试用例11：验证多用户同时上传文件时系统的并发性能和稳定性。
        
### 网上购物

    用户登录：
        测试用例1：验证未登录状态下提交订单时是否能够正确跳转到登录页面。
        测试用例2：验证使用正确的用户名和密码登录后是否能够成功提交订单。

    商品选择与添加至购物车：
        测试用例3：验证用户可以正常浏览商品，并将商品添加至购物车。
        测试用例4：验证用户在购物车中可以修改商品数量、删除商品等操作。

    订单信息填写：
        测试用例5：验证用户填写订单信息时各字段的输入合法性（如姓名、地址、联系方式等）。
        测试用例6：验证填写完整订单信息后是否能够正确计算订单总价。

    配送方式选择：
        测试用例7：验证用户可以选择不同的配送方式（快递、自提等）。
        测试用例8：验证选择不同配送方式后订单总价是否相应变化。

    支付流程：
        测试用例9：验证用户可以选择不同的支付方式（支付宝、微信、银行卡等）。
        测试用例10：模拟支付过程，验证支付成功后订单状态是否正确更新。

    订单提交与确认：
        测试用例11：验证用户提交订单后是否能够正确生成订单号。
        测试用例12：验证用户在订单确认页面可以查看订单详细信息并确认订单。

    异常情况处理：
        测试用例13：模拟网络异常情况下提交订单，验证系统的异常处理机制。
        测试用例14：模拟库存不足或商品下架情况下提交订单，验证系统的异常处理机制。
